/***********************************************************************
 File generated by Liquidity compiler version 2.0
 (commit 6472808c, compiled on Wed Sep 16 14:15:26 CEST 2020)
 Date: 2020-09-17 12:02:27
 From file: ./extraction/examples/liquidity-extract/tests/CounterDepCertifiedExtraction.liq
 Options:
  - Inlining: true
  - Simplifications: true
  - Peephole optimizations: true
  - Single line output: false
  - Generate annotations: true
  - Uncurrying: true
***********************************************************************/

parameter %main (or :coq_msg (int %Coq_Inc) (int %Coq_Dec));
storage (pair int key_hash);
code { DUP ;
       DIP { CDR @st_slash_1 } ;
       CAR @param_slash_2 ;
       LAMBDA @coq_my_bool_dec
         (pair bool bool)
         (or :coq_sumbool (unit %Coq_left) (unit %Coq_right))
         { RENAME @b1_b2_slash_27 ;
           DUP @b1_b2 ;
           CAR @b1 ;
           IF { LAMBDA
                  bool
                  (or :coq_sumbool (unit %Coq_left) (unit %Coq_right))
                  { RENAME @x_slash_30 ;
                    DUP @x ;
                    IF { PUSH (or :coq_sumbool (unit %Coq_left) (unit %Coq_right)) (Left Unit) }
                       { PUSH (or :coq_sumbool (unit %Coq_left) (unit %Coq_right)) (Right Unit) } ;
                    DIP { DROP } } }
              { LAMBDA
                  bool
                  (or :coq_sumbool (unit %Coq_left) (unit %Coq_right))
                  { RENAME @x_slash_31 ;
                    DUP @x ;
                    IF { PUSH (or :coq_sumbool (unit %Coq_left) (unit %Coq_right)) (Right Unit) }
                       { PUSH (or :coq_sumbool (unit %Coq_left) (unit %Coq_right)) (Left Unit) } ;
                    DIP { DROP } } } ;
           DIP { DUP @b1_b2 } ;
           DIP 2 { DROP } ;
           SWAP ;
           CDR @b2 ;
           EXEC } ;
       LAMBDA @leInt
         (pair int int)
         bool
         { RENAME @i_j_slash_15 ;
           DUP @i_j ;
           CDR @j ;
           DIP { DUP @i_j } ;
           DIP 2 { DROP } ;
           SWAP ;
           CAR @i ;
           COMPARE ;
           LE } ;
       DIP { DUP @coq_my_bool_dec } ;
       SWAP ;
       PAIR ;
       LAMBDA @snd (pair int key_hash) key_hash { RENAME @p_slash_5 ; CDR } ;
       LAMBDA @fst (pair int key_hash) int { RENAME @p_slash_3 ; CAR } ;
       PAIR ;
       LAMBDA @addInt
         (pair int int)
         int
         { RENAME @i_j_slash_7 ;
           DUP @i_j ;
           CDR @j ;
           DIP { DUP @i_j } ;
           DIP 2 { DROP } ;
           SWAP ;
           CAR @i ;
           ADD } ;
       PAIR ;
       LAMBDA
         (pair (pair (pair int key_hash) int)
               (pair (lambda (pair int int) int)
                     (pair (lambda (pair int key_hash) int) (lambda (pair int key_hash) key_hash))))
         (pair int key_hash)
         { RENAME @st_new_balance__addInt_fst_snd_slash_33 ;
           DUP ;
           CAR @st_new_balance_slash_34 ;
           CAR @st ;
           DIP { DUP } ;
           SWAP ;
           CDDDR @snd_slash_6 ;
           DIP { DUP @st } ;
           SWAP ;
           EXEC ;
           DIP 2 { DUP } ;
           DIG 2 ;
           CDAR @addInt_slash_10 ;
           DIP 3 { DUP } ;
           DIG 3 ;
           CAR @st_new_balance_slash_34 ;
           CDR @new_balance ;
           DIP 4 { DUP } ;
           DIG 4 ;
           CDDAR @fst_slash_4 ;
           DIP 4 { DUP @st } ;
           DIG 4 ;
           DIP 5 { DROP 2 } ;
           EXEC ;
           PAIR ;
           EXEC ;
           PAIR } ;
       PAIR @coq_inc_balance ;
       PAIR ;
       LAMBDA @subInt
         (pair int int)
         int
         { RENAME @i_j_slash_11 ;
           DUP @i_j ;
           CDR @j ;
           DIP { DUP @i_j } ;
           DIP 2 { DROP } ;
           SWAP ;
           CAR @i ;
           SUB } ;
       LAMBDA @snd (pair int key_hash) key_hash { RENAME @p_slash_5 ; CDR } ;
       PAIR ;
       LAMBDA @fst (pair int key_hash) int { RENAME @p_slash_3 ; CAR } ;
       PAIR ;
       LAMBDA
         (pair (pair (pair int key_hash) int)
               (pair (lambda (pair int key_hash) int)
                     (pair (lambda (pair int key_hash) key_hash) (lambda (pair int int) int))))
         (pair int key_hash)
         { RENAME @st_new_balance__fst_snd_subInt_slash_38 ;
           DUP ;
           CAR @st_new_balance_slash_39 ;
           CAR @st ;
           DIP { DUP } ;
           SWAP ;
           CDDAR @snd_slash_6 ;
           DIP { DUP @st } ;
           SWAP ;
           EXEC ;
           DIP 2 { DUP } ;
           DIG 2 ;
           CDDDR @subInt_slash_14 ;
           DIP 3 { DUP } ;
           DIG 3 ;
           CAR @st_new_balance_slash_39 ;
           CDR @new_balance ;
           DIP 4 { DUP } ;
           DIG 4 ;
           CDAR @fst_slash_4 ;
           DIP 4 { DUP @st } ;
           DIG 4 ;
           DIP 5 { DROP 2 } ;
           EXEC ;
           PAIR ;
           EXEC ;
           PAIR } ;
       PAIR @coq_dec_balance ;
       PAIR ;
       LAMBDA
         (pair (pair (or :coq_msg (int %Coq_Inc) (int %Coq_Dec)) (pair int key_hash))
               (pair (pair (lambda
                              (pair (pair (pair int key_hash) int)
                                    (pair (lambda (pair int key_hash) int)
                                          (pair (lambda (pair int key_hash) key_hash) (lambda (pair int int) int))))
                              (pair int key_hash))
                           (pair (lambda (pair int key_hash) int)
                                 (pair (lambda (pair int key_hash) key_hash) (lambda (pair int int) int))))
                     (pair (pair (lambda
                                    (pair (pair (pair int key_hash) int)
                                          (pair (lambda (pair int int) int)
                                                (pair (lambda (pair int key_hash) int) (lambda (pair int key_hash) key_hash))))
                                    (pair int key_hash))
                                 (pair (lambda (pair int int) int)
                                       (pair (lambda (pair int key_hash) int) (lambda (pair int key_hash) key_hash))))
                           (pair (lambda (pair bool bool) (or :coq_sumbool (unit %Coq_left) (unit %Coq_right)))
                                 (lambda (pair int int) bool)))))
         (option (pair (list operation) (pair int key_hash)))
         { RENAME @msg_st__coq_dec_balance_coq_inc_balance_coq_my_bool_dec_leInt_slash_43 ;
           DUP ;
           CAR @msg_st_slash_44 ;
           CDR @st ;
           DIP { DUP } ;
           SWAP ;
           CAR @msg_st_slash_44 ;
           CAR @msg ;
           IF_LEFT
             { RENAME @i_slash_47 ;
               DIP 2 { DUP } ;
               DIG 2 ;
               CDDDAR @coq_my_bool_dec_slash_32 ;
               PUSH bool True ;
               DIP 4 { DUP } ;
               DIG 4 ;
               CDDDDR @leInt_slash_18 ;
               DIP 3 { DUP @i } ;
               DIG 3 ;
               PUSH int 0 ;
               PAIR ;
               EXEC ;
               PAIR ;
               EXEC ;
               IF_LEFT
                 { DROP ;
                   DIP 2 { DUP } ;
                   DIG 2 ;
                   CDDAR @coq_inc_balance_slash_37 ;
                   DIP { DUP @i } ;
                   SWAP ;
                   DIP 3 { DUP @st } ;
                   DIG 3 ;
                   PAIR ;
                   DIP { DUP ; CAR ; SWAP ; CDR } ;
                   PAIR ;
                   EXEC ;
                   NIL operation ;
                   PAIR ;
                   SOME }
                 { DROP ; NONE (pair (list operation) (pair int key_hash)) } ;
               DIP { DROP } }
             { RENAME @i_slash_48 ;
               DIP 2 { DUP } ;
               DIG 2 ;
               CDDDAR @coq_my_bool_dec_slash_32 ;
               PUSH bool True ;
               DIP 4 { DUP } ;
               DIG 4 ;
               CDDDDR @leInt_slash_18 ;
               DIP 3 { DUP @i } ;
               DIG 3 ;
               PUSH int 0 ;
               PAIR ;
               EXEC ;
               PAIR ;
               EXEC ;
               IF_LEFT
                 { DROP ;
                   DIP 2 { DUP } ;
                   DIG 2 ;
                   CDAR @coq_dec_balance_slash_42 ;
                   DIP { DUP @i } ;
                   SWAP ;
                   DIP 3 { DUP @st } ;
                   DIG 3 ;
                   PAIR ;
                   DIP { DUP ; CAR ; SWAP ; CDR } ;
                   PAIR ;
                   EXEC ;
                   NIL operation ;
                   PAIR ;
                   SOME }
                 { DROP ; NONE (pair (list operation) (pair int key_hash)) } ;
               DIP { DROP } } ;
           DIP { DROP 2 } } ;
       PAIR @coq_counter ;
       DIP 3 { DUP @st } ;
       DIG 3 ;
       DIP 3 { DUP @param } ;
       DIG 3 ;
       PAIR ;
       PAIR ;
       DUP ;
       CDR @coq_counter_slash_49 ;
       DIP { DUP } ;
       SWAP ;
       CAR @param_st_slash_51 ;
       CDR @st ;
       DIP 2 { DUP } ;
       DIG 2 ;
       CAR @param_st_slash_51 ;
       CAR @param ;
       PAIR ;
       DIP { DUP ; CAR ; SWAP ; CDR } ;
       PAIR ;
       EXEC ;
       IF_NONE { UNIT ; FAILWITH } {} ;
       DIP { DROP 4 } };
