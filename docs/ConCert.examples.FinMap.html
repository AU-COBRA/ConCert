<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="https://github.com/annenkov/ConCert" target="_balnk">Project Page</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">ConCert.examples.FinMap</h1>

<div class="code">
</div>

<div class="doc">
<a name="lab45"></a><h1 class="section">Finite maps</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.FSets.FMaps.html#"><span class="id" title="library">FMaps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.FSets.FMapWeakList.html#"><span class="id" title="library">FMapWeakList</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Strings.String.html#"><span class="id" title="library">String</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Program.Basics.html#"><span class="id" title="library">Basics</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#"><span class="id" title="library">List</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Arith.PeanoNat.html#"><span class="id" title="library">PeanoNat</span></a>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">ListNotations</span>.<br/>
<span class="id" title="var">From</span> <span class="id" title="var">MetaCoq.Template</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">All</span>.<br/>

<br/>
<span class="id" title="var">From</span> <span class="id" title="var">ConCert</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Ast.html#"><span class="id" title="library">Ast</span></a> <a class="idref" href="ConCert.Notations.html#"><span class="id" title="library">Notations</span></a> <a class="idref" href="ConCert.CustomTactics.html#"><span class="id" title="library">CustomTactics</span></a> <a class="idref" href="ConCert.pcuic.PCUICTranslate.html#"><span class="id" title="library">PCUICTranslate</span></a> <a class="idref" href="ConCert.pcuic.PCUICtoTemplate.html#"><span class="id" title="library">PCUICtoTemplate</span></a> <a class="idref" href="ConCert.EvalE.html#"><span class="id" title="library">EvalE</span></a>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">MonadNotation</span>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">BaseTypes</span>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">StdLib</span>.<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">list</span>.<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">nat</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="expr_to_tc"><span class="id" title="definition">expr_to_tc</span></a> <span class="id" title="var">Σ</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Program.Basics.html#compose"><span class="id" title="definition">compose</span></a> <a class="idref" href="ConCert.pcuic.PCUICtoTemplate.html#trans"><span class="id" title="definition">trans</span></a> (<a class="idref" href="ConCert.pcuic.PCUICTranslate.html#expr_to_term"><span class="id" title="definition">expr_to_term</span></a> <a class="idref" href="ConCert.examples.FinMap.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a>).<br/>
<span class="id" title="keyword">Definition</span> <a name="type_to_tc"><span class="id" title="definition">type_to_tc</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Program.Basics.html#compose"><span class="id" title="definition">compose</span></a> <a class="idref" href="ConCert.pcuic.PCUICtoTemplate.html#trans"><span class="id" title="definition">trans</span></a> <a class="idref" href="ConCert.pcuic.PCUICTranslate.html#type_to_term"><span class="id" title="definition">type_to_term</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="global_to_tc"><span class="id" title="definition">global_to_tc</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Program.Basics.html#compose"><span class="id" title="definition">compose</span></a> <a class="idref" href="ConCert.pcuic.PCUICtoTemplate.html#trans_minductive_entry"><span class="id" title="definition">trans_minductive_entry</span></a> <a class="idref" href="ConCert.pcuic.PCUICTranslate.html#trans_global_dec"><span class="id" title="definition">trans_global_dec</span></a>.<br/>

<br/>
</div>

<div class="doc">
Implementing a simple finite map data type using our embedding. We pick a simple representation of finite maps which is isomorphic to lists of key-value pairs 
<div class="paragraph"> </div>

 Generation of string constants using MetaCoq. We use these string constants to make the embedding more readable. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="mkNames"><span class="id" title="definition">mkNames</span></a> (<span class="id" title="var">ns</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<span class="id" title="var">suffix</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.examples.FinMap.html#ns"><span class="id" title="variable">ns</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> =&gt; <span class="id" title="constructor">tmPrint</span> "Done."<br/>
&nbsp;&nbsp;| <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">ns'</span> =&gt; <span class="id" title="var">n'</span> <span class="id" title="notation">&lt;-</span> <span class="id" title="constructor">tmEval</span> <span class="id" title="constructor">all</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> <a class="idref" href="ConCert.examples.FinMap.html#suffix"><span class="id" title="variable">suffix</span></a>)%<span class="id" title="var">string</span> <span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">str</span> <span class="id" title="notation">&lt;-</span> <span class="id" title="constructor">tmQuote</span> <a class="idref" href="ConCert.examples.FinMap.html#n'"><span class="id" title="variable">n'</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">tmMkDefinition</span> <span class="id" title="var">n</span> <a class="idref" href="ConCert.examples.FinMap.html#str"><span class="id" title="variable">str</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.examples.FinMap.html#mkNames"><span class="id" title="definition">mkNames</span></a> <span class="id" title="var">ns'</span> <a class="idref" href="ConCert.examples.FinMap.html#suffix"><span class="id" title="variable">suffix</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab46"></a><h2 class="section">The deep embedding of data structures for finite maps</h2>

<div class="paragraph"> </div>

 We generate names for inductives and constructors 
</div>
<div class="code">
<span class="id" title="var">Run</span> <span class="id" title="var">TemplateProgram</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.examples.FinMap.html#mkNames"><span class="id" title="definition">mkNames</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a>"Maybe"<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>"Nothing"<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>"Just"<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> "Map"<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> "MNil"<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> "MCons" <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a> "Acorn").<br/>

<br/>
</div>

<div class="doc">
Now we can use <span class="inlinecode"><a class="idref" href="ConCert.examples.crowdfunding.Prelude.html#Maybe"><span class="id" title="definition">Maybe</span></a></span> as a name for a data type in our deep embedding. <span class="inlinecode"><a class="idref" href="ConCert.examples.crowdfunding.Prelude.html#Maybe"><span class="id" title="definition">Maybe</span></a></span> contains a string "MaybeAcorn" 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Print</span> <a class="idref" href="ConCert.examples.FinMap.html#Maybe"><span class="id" title="definition">Maybe</span></a>.<br/>
<span class="comment">(*&nbsp;Maybe&nbsp;=&nbsp;"MaybeAcorn"&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;string&nbsp;*)</span><br/>

<br/>
</div>

<div class="doc">
Now, we define an AST (a deep embedding) for <span class="inlinecode"><span class="id" title="var">MaybeAcorn</span></span> data type. <span class="inlinecode"><span class="id" title="var">MaybeAcorn</span></span> is the same as <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a></span> of Coq and <span class="inlinecode"><a class="idref" href="ConCert.examples.crowdfunding.Prelude.html#Maybe"><span class="id" title="definition">Maybe</span></a></span> of Haskell. First, we define a new datatype without using notations 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="maybe_syn"><span class="id" title="definition">maybe_syn</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Ast.html#gdInd"><span class="id" title="constructor">gdInd</span></a> <a class="idref" href="ConCert.examples.FinMap.html#Maybe"><span class="id" title="definition">Maybe</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.examples.FinMap.html#Nothing"><span class="id" title="definition">Nothing</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.examples.FinMap.html#Just"><span class="id" title="definition">Just</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="ConCert.Ast.html#tyRel"><span class="id" title="constructor">tyRel</span></a> 0<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>

<br/>
<span class="id" title="var">Make</span> <span class="id" title="keyword">Inductive</span> (<a class="idref" href="ConCert.examples.FinMap.html#global_to_tc"><span class="id" title="definition">global_to_tc</span></a> <a class="idref" href="ConCert.examples.FinMap.html#maybe_syn"><span class="id" title="definition">maybe_syn</span></a>).<br/>

<br/>
</div>

<div class="doc">
Now, we define a type of finite maps using notations based on Custom Entries 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="map_syn"><span class="id" title="definition">map_syn</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Notations.html#fe8473dd9402cdf9a6648d9eb80cf296"><span class="id" title="notation">[\</span></a> <a class="idref" href="ConCert.Notations.html#18c7f55b52af015fa0e74bfb243086c1"><span class="id" title="notation">data</span></a> <a class="idref" href="ConCert.examples.FinMap.html#Map"><span class="id" title="definition">Map</span></a> <a class="idref" href="ConCert.Notations.html#522d900e0e8eea60af32e36cecdcc570"><span class="id" title="notation">#</span></a> 2 <a class="idref" href="ConCert.Notations.html#18c7f55b52af015fa0e74bfb243086c1"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.examples.FinMap.html#MNil"><span class="id" title="definition">MNil</span></a> <a class="idref" href="ConCert.Notations.html#ebb8c269f26fdf46621f04e85ed4d72b"><span class="id" title="notation">[</span></a><a class="idref" href="ConCert.Notations.html#d1f919dcbe5f7c185b6eb6839268db63"><span class="id" title="notation">_</span></a><a class="idref" href="ConCert.Notations.html#ebb8c269f26fdf46621f04e85ed4d72b"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Notations.html#18c7f55b52af015fa0e74bfb243086c1"><span class="id" title="notation">|</span></a> <a class="idref" href="ConCert.examples.FinMap.html#MCons"><span class="id" title="definition">MCons</span></a> <a class="idref" href="ConCert.Notations.html#ebb8c269f26fdf46621f04e85ed4d72b"><span class="id" title="notation">[</span></a><a class="idref" href="ConCert.Notations.html#1817a2329eead333667fa039b13b7363"><span class="id" title="notation">^</span></a>1<a class="idref" href="ConCert.Notations.html#8a1a1396a6fb40da8f616b6c388ba74a"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Notations.html#1817a2329eead333667fa039b13b7363"><span class="id" title="notation">^</span></a>0<a class="idref" href="ConCert.Notations.html#8a1a1396a6fb40da8f616b6c388ba74a"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Notations.html#85ad000a5f24386f70f03588f3994b98"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.examples.FinMap.html#Map"><span class="id" title="definition">Map</span></a> <a class="idref" href="ConCert.Notations.html#1817a2329eead333667fa039b13b7363"><span class="id" title="notation">^</span></a>1 <a class="idref" href="ConCert.Notations.html#1817a2329eead333667fa039b13b7363"><span class="id" title="notation">^</span></a>0<a class="idref" href="ConCert.Notations.html#85ad000a5f24386f70f03588f3994b98"><span class="id" title="notation">)</span></a><a class="idref" href="ConCert.Notations.html#8a1a1396a6fb40da8f616b6c388ba74a"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Notations.html#d1f919dcbe5f7c185b6eb6839268db63"><span class="id" title="notation">_</span></a><a class="idref" href="ConCert.Notations.html#ebb8c269f26fdf46621f04e85ed4d72b"><span class="id" title="notation">]</span></a>  <a class="idref" href="ConCert.Notations.html#fe8473dd9402cdf9a6648d9eb80cf296"><span class="id" title="notation">\]</span></a>.<br/>

<br/>
<span class="id" title="var">Make</span> <span class="id" title="keyword">Inductive</span> (<a class="idref" href="ConCert.examples.FinMap.html#global_to_tc"><span class="id" title="definition">global_to_tc</span></a> <a class="idref" href="ConCert.examples.FinMap.html#map_syn"><span class="id" title="definition">map_syn</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="52b145392dfbad12f334141f4035e258"><span class="id" title="definition">Σ'</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.pcuic.PCUICTranslate.html#47d0d78d4d530216364af042577b7f7e"><span class="id" title="definition">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a> <a class="idref" href="ConCert.examples.FinMap.html#maybe_syn"><span class="id" title="definition">maybe_syn</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <a class="idref" href="ConCert.examples.FinMap.html#map_syn"><span class="id" title="definition">map_syn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a>.<br/>

<br/>
</div>

<div class="doc">
We generate string constants for variable names as well to make our examples look nicer 
</div>
<div class="code">
<span class="id" title="var">Run</span> <span class="id" title="var">TemplateProgram</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.examples.FinMap.html#mkNames"><span class="id" title="definition">mkNames</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a>"A"<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> "B"<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> "C"<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> "f"<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> "a"<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> "b"<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> "c"<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> "m"<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> "n"<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> "k" <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> "v"<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> "w"<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> "x"<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> "y"<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> "z"<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> "lookup"<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> "add" <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a> "_coq").<br/>

<br/>
</div>

<div class="doc">
A bit of additional notations required for patterns and constructors 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Notation</span> <a name="834f3dec9d93f107e6730c32235d3605"><span class="id" title="notation">&quot;</span></a>'Nothing'" := (<a class="idref" href="ConCert.Ast.html#pConstr"><span class="id" title="constructor">pConstr</span></a> <a class="idref" href="ConCert.examples.FinMap.html#Nothing"><span class="id" title="definition">Nothing</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">pat</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0).<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="0e2e6c9fd51d0231ae613385eab47f2a"><span class="id" title="notation">&quot;</span></a>'Nothing'" := (<a class="idref" href="ConCert.Ast.html#eConstr"><span class="id" title="constructor">eConstr</span></a> <a class="idref" href="ConCert.examples.FinMap.html#Maybe"><span class="id" title="definition">Maybe</span></a> "NothingAcorn")<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">expr</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0).<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="c4cccc5bca892e559d946a6168178b3e"><span class="id" title="notation">&quot;</span></a>'Just'" := (<a class="idref" href="ConCert.Ast.html#eConstr"><span class="id" title="constructor">eConstr</span></a> <a class="idref" href="ConCert.examples.FinMap.html#Maybe"><span class="id" title="definition">Maybe</span></a> <a class="idref" href="ConCert.examples.FinMap.html#Just"><span class="id" title="definition">Just</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">expr</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0).<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="4a177de3911eb3d319f17bba0856a2ce"><span class="id" title="notation">&quot;</span></a>'MNil'" := (<a class="idref" href="ConCert.Ast.html#pConstr"><span class="id" title="constructor">pConstr</span></a> <a class="idref" href="ConCert.examples.FinMap.html#MNil"><span class="id" title="definition">MNil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">pat</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0).<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="7a525c33d870360dad2762b0eb37a26b"><span class="id" title="notation">&quot;</span></a>'MCons' x y z" := (<a class="idref" href="ConCert.Ast.html#pConstr"><span class="id" title="constructor">pConstr</span></a> <a class="idref" href="ConCert.examples.FinMap.html#MCons"><span class="id" title="definition">MCons</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><span class="id" title="var">z</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">pat</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">x</span> <span class="id" title="keyword">constr</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 4,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">y</span> <span class="id" title="keyword">constr</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 4,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">z</span> <span class="id" title="keyword">constr</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 4).<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="7e5869b07b997dd3ee1aae5d19a51bc8"><span class="id" title="notation">&quot;</span></a>'MNil'" := (<a class="idref" href="ConCert.Ast.html#eConstr"><span class="id" title="constructor">eConstr</span></a> <a class="idref" href="ConCert.examples.FinMap.html#Map"><span class="id" title="definition">Map</span></a> "MNilAcorn")<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">expr</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0).<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="d76068bd3762d2d25137633dc97e5c80"><span class="id" title="notation">&quot;</span></a>'MCons'" := (<a class="idref" href="ConCert.Ast.html#eConstr"><span class="id" title="constructor">eConstr</span></a> <a class="idref" href="ConCert.examples.FinMap.html#Map"><span class="id" title="definition">Map</span></a> "MConsAcorn")<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">expr</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0).<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="76434d6efa71275326aab1bd90542cb5"><span class="id" title="notation">&quot;</span></a> ' x " := (<a class="idref" href="ConCert.Ast.html#eTy"><span class="id" title="constructor">eTy</span></a> (<a class="idref" href="ConCert.Ast.html#tyVar"><span class="id" title="constructor">tyVar</span></a> <span class="id" title="var">x</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">expr</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 1,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">x</span> <span class="id" title="keyword">constr</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 2).<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="keyword">if</span></span> <span class="inlinecode">..</span> <span class="inlinecode"><span class="id" title="keyword">then</span></span> <span class="inlinecode">..</span> <span class="inlinecode"><span class="id" title="keyword">else</span></span> is just a shortcut for <span class="inlinecode"><span class="id" title="tactic">case</span></span> of a boolean expression 
</div>
<div class="code">
<span class="id" title="keyword">Notation</span> <a name="534e21ca945b9e51b00ca32e14d4a9d7"><span class="id" title="notation">&quot;</span></a>'if' cond 'then' b1 'else' b2 : ty" :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Ast.html#eCase"><span class="id" title="constructor">eCase</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.pcuic.PCUICTranslate.html#BaseTypes.Bool"><span class="id" title="definition">Bool</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">ty</span> <span class="id" title="var">cond</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Ast.html#pConstr"><span class="id" title="constructor">pConstr</span></a> <a class="idref" href="ConCert.pcuic.PCUICTranslate.html#StdLib.true_name"><span class="id" title="definition">true_name</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">b1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Ast.html#pConstr"><span class="id" title="constructor">pConstr</span></a> <a class="idref" href="ConCert.pcuic.PCUICTranslate.html#StdLib.false_name"><span class="id" title="definition">false_name</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">b2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">expr</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 2,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cond</span> <span class="id" title="var">custom</span> <span class="id" title="var">expr</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 4,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ty</span> <span class="id" title="var">custom</span> <span class="id" title="keyword">type</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 4,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">b1</span> <span class="id" title="var">custom</span> <span class="id" title="var">expr</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 4,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">b2</span> <span class="id" title="var">custom</span> <span class="id" title="var">expr</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 4).<br/>

<br/>
</div>

<div class="doc">
<a name="lab47"></a><h2 class="section">Functions on finite maps</h2>

<div class="paragraph"> </div>

 AST for lookup function 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="lookup_syn"><span class="id" title="definition">lookup_syn</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Notations.html#143c2b826a30d37e0d680ea16616e805"><span class="id" title="notation">[|</span></a> <a class="idref" href="ConCert.Notations.html#f4eb5f13d76cce9fed64c88b91e9117c"><span class="id" title="notation">\\</span></a><a class="idref" href="ConCert.examples.FinMap.html#A"><span class="id" title="definition">A</span></a> <a class="idref" href="ConCert.Notations.html#f4eb5f13d76cce9fed64c88b91e9117c"><span class="id" title="notation">=&gt;</span></a> <a class="idref" href="ConCert.Notations.html#f4eb5f13d76cce9fed64c88b91e9117c"><span class="id" title="notation">\\</span></a><a class="idref" href="ConCert.examples.FinMap.html#B"><span class="id" title="definition">B</span></a> <a class="idref" href="ConCert.Notations.html#f4eb5f13d76cce9fed64c88b91e9117c"><span class="id" title="notation">=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Notations.html#5a67c20fae665de9355aa131b6b33c35"><span class="id" title="notation">\</span></a><a class="idref" href="ConCert.examples.FinMap.html#f"><span class="id" title="definition">f</span></a> <a class="idref" href="ConCert.Notations.html#5a67c20fae665de9355aa131b6b33c35"><span class="id" title="notation">:</span></a> <a class="idref" href="ConCert.Notations.html#c4e9aac9c048c1b9b4d77595547cab8e"><span class="id" title="notation">'</span></a><a class="idref" href="ConCert.examples.FinMap.html#A"><span class="id" title="definition">A</span></a> <a class="idref" href="ConCert.Notations.html#26b5b7884c8556dc1a44ae242fcf1a6d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Notations.html#c4e9aac9c048c1b9b4d77595547cab8e"><span class="id" title="notation">'</span></a><a class="idref" href="ConCert.examples.FinMap.html#A"><span class="id" title="definition">A</span></a> <a class="idref" href="ConCert.Notations.html#26b5b7884c8556dc1a44ae242fcf1a6d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.pcuic.PCUICTranslate.html#BaseTypes.Bool"><span class="id" title="definition">Bool</span></a> <a class="idref" href="ConCert.Notations.html#5a67c20fae665de9355aa131b6b33c35"><span class="id" title="notation">=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Notations.html#5a67c20fae665de9355aa131b6b33c35"><span class="id" title="notation">\</span></a><a class="idref" href="ConCert.examples.FinMap.html#k"><span class="id" title="definition">k</span></a> <a class="idref" href="ConCert.Notations.html#5a67c20fae665de9355aa131b6b33c35"><span class="id" title="notation">:</span></a> <a class="idref" href="ConCert.Notations.html#c4e9aac9c048c1b9b4d77595547cab8e"><span class="id" title="notation">'</span></a><a class="idref" href="ConCert.examples.FinMap.html#A"><span class="id" title="definition">A</span></a> <a class="idref" href="ConCert.Notations.html#5a67c20fae665de9355aa131b6b33c35"><span class="id" title="notation">=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Notations.html#21773080551e9fa9cdecbab6b667330e"><span class="id" title="notation">fix</span></a> <a class="idref" href="ConCert.examples.FinMap.html#lookup"><span class="id" title="definition">lookup</span></a> <a class="idref" href="ConCert.Notations.html#21773080551e9fa9cdecbab6b667330e"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.examples.FinMap.html#m"><span class="id" title="definition">m</span></a> <a class="idref" href="ConCert.Notations.html#21773080551e9fa9cdecbab6b667330e"><span class="id" title="notation">:</span></a> <a class="idref" href="ConCert.examples.FinMap.html#Map"><span class="id" title="definition">Map</span></a> <a class="idref" href="ConCert.Notations.html#c4e9aac9c048c1b9b4d77595547cab8e"><span class="id" title="notation">'</span></a><a class="idref" href="ConCert.examples.FinMap.html#A"><span class="id" title="definition">A</span></a> <a class="idref" href="ConCert.Notations.html#c4e9aac9c048c1b9b4d77595547cab8e"><span class="id" title="notation">'</span></a><a class="idref" href="ConCert.examples.FinMap.html#B"><span class="id" title="definition">B</span></a><a class="idref" href="ConCert.Notations.html#21773080551e9fa9cdecbab6b667330e"><span class="id" title="notation">)</span></a> <a class="idref" href="ConCert.Notations.html#21773080551e9fa9cdecbab6b667330e"><span class="id" title="notation">:</span></a> <a class="idref" href="ConCert.examples.FinMap.html#Maybe"><span class="id" title="definition">Maybe</span></a> <a class="idref" href="ConCert.Notations.html#c4e9aac9c048c1b9b4d77595547cab8e"><span class="id" title="notation">'</span></a><a class="idref" href="ConCert.examples.FinMap.html#B"><span class="id" title="definition">B</span></a> <a class="idref" href="ConCert.Notations.html#21773080551e9fa9cdecbab6b667330e"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Notations.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">case</span></a> <a class="idref" href="ConCert.examples.FinMap.html#m"><span class="id" title="definition">m</span></a> <a class="idref" href="ConCert.Notations.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">:</span></a> <a class="idref" href="ConCert.examples.FinMap.html#Map"><span class="id" title="definition">Map</span></a> <a class="idref" href="ConCert.Notations.html#c4e9aac9c048c1b9b4d77595547cab8e"><span class="id" title="notation">'</span></a><a class="idref" href="ConCert.examples.FinMap.html#A"><span class="id" title="definition">A</span></a> <a class="idref" href="ConCert.Notations.html#05b798c46e0f093a97bd1a41cb3d810e"><span class="id" title="notation">,</span></a><a class="idref" href="ConCert.Notations.html#c4e9aac9c048c1b9b4d77595547cab8e"><span class="id" title="notation">'</span></a><a class="idref" href="ConCert.examples.FinMap.html#B"><span class="id" title="definition">B</span></a> <a class="idref" href="ConCert.Notations.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">return</span></a> <a class="idref" href="ConCert.examples.FinMap.html#Maybe"><span class="id" title="definition">Maybe</span></a> <a class="idref" href="ConCert.Notations.html#c4e9aac9c048c1b9b4d77595547cab8e"><span class="id" title="notation">'</span></a><a class="idref" href="ConCert.examples.FinMap.html#B"><span class="id" title="definition">B</span></a> <a class="idref" href="ConCert.Notations.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">of</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Notations.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">|</span></a> <a class="idref" href="ConCert.examples.FinMap.html#4a177de3911eb3d319f17bba0856a2ce"><span class="id" title="notation">MNil</span></a> <a class="idref" href="ConCert.Notations.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.examples.FinMap.html#0e2e6c9fd51d0231ae613385eab47f2a"><span class="id" title="notation">Nothing</span></a> <a class="idref" href="ConCert.examples.FinMap.html#76434d6efa71275326aab1bd90542cb5"><span class="id" title="notation">'</span></a><a class="idref" href="ConCert.examples.FinMap.html#B"><span class="id" title="definition">B</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Notations.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">|</span></a> <a class="idref" href="ConCert.examples.FinMap.html#7a525c33d870360dad2762b0eb37a26b"><span class="id" title="notation">MCons</span></a> <a class="idref" href="ConCert.examples.FinMap.html#x"><span class="id" title="definition">x</span></a> <a class="idref" href="ConCert.examples.FinMap.html#y"><span class="id" title="definition">y</span></a> <a class="idref" href="ConCert.examples.FinMap.html#z"><span class="id" title="definition">z</span></a> <a class="idref" href="ConCert.Notations.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.examples.FinMap.html#534e21ca945b9e51b00ca32e14d4a9d7"><span class="id" title="notation">if</span></a> <a class="idref" href="ConCert.Notations.html#d8c7a17158b575954bc29fcd16b46d59"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.examples.FinMap.html#f"><span class="id" title="definition">f</span></a> <a class="idref" href="ConCert.examples.FinMap.html#k"><span class="id" title="definition">k</span></a> <a class="idref" href="ConCert.examples.FinMap.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="ConCert.Notations.html#d8c7a17158b575954bc29fcd16b46d59"><span class="id" title="notation">)</span></a> <a class="idref" href="ConCert.examples.FinMap.html#534e21ca945b9e51b00ca32e14d4a9d7"><span class="id" title="notation">then</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.examples.FinMap.html#c4cccc5bca892e559d946a6168178b3e"><span class="id" title="notation">Just</span></a> <a class="idref" href="ConCert.examples.FinMap.html#76434d6efa71275326aab1bd90542cb5"><span class="id" title="notation">'</span></a><a class="idref" href="ConCert.examples.FinMap.html#B"><span class="id" title="definition">B</span></a> <a class="idref" href="ConCert.examples.FinMap.html#y"><span class="id" title="definition">y</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.examples.FinMap.html#534e21ca945b9e51b00ca32e14d4a9d7"><span class="id" title="notation">else</span></a> <a class="idref" href="ConCert.examples.FinMap.html#lookup"><span class="id" title="definition">lookup</span></a> <a class="idref" href="ConCert.examples.FinMap.html#z"><span class="id" title="definition">z</span></a> <a class="idref" href="ConCert.examples.FinMap.html#534e21ca945b9e51b00ca32e14d4a9d7"><span class="id" title="notation">:</span></a> <a class="idref" href="ConCert.examples.FinMap.html#Maybe"><span class="id" title="definition">Maybe</span></a> <a class="idref" href="ConCert.Notations.html#c4e9aac9c048c1b9b4d77595547cab8e"><span class="id" title="notation">'</span></a><a class="idref" href="ConCert.examples.FinMap.html#B"><span class="id" title="definition">B</span></a> <a class="idref" href="ConCert.Notations.html#143c2b826a30d37e0d680ea16616e805"><span class="id" title="notation">|]</span></a>.<br/>

<br/>
<span class="id" title="keyword">Compute</span> (<a class="idref" href="ConCert.Ast.html#indexify"><span class="id" title="definition">indexify</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="ConCert.examples.FinMap.html#lookup_syn"><span class="id" title="definition">lookup_syn</span></a>).<br/>
</div>

<div class="doc">
Unquoting the <span class="inlinecode"><a class="idref" href="ConCert.examples.FinMap.html#lookup_syn"><span class="id" title="definition">lookup_syn</span></a></span> to produce a Coq function 
</div>
<div class="code">
<span class="id" title="var">Make</span> <span class="id" title="keyword">Definition</span> <span class="id" title="var">lookup_map</span> := (<a class="idref" href="ConCert.examples.FinMap.html#expr_to_tc"><span class="id" title="definition">expr_to_tc</span></a> <a class="idref" href="ConCert.examples.FinMap.html#52b145392dfbad12f334141f4035e258"><span class="id" title="definition">Σ'</span></a> (<a class="idref" href="ConCert.Ast.html#indexify"><span class="id" title="definition">indexify</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="ConCert.examples.FinMap.html#lookup_syn"><span class="id" title="definition">lookup_syn</span></a>)).<br/>

<br/>
</div>

<div class="doc">
AST for a function that adds an element to a map 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="add_map_syn"><span class="id" title="definition">add_map_syn</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Notations.html#143c2b826a30d37e0d680ea16616e805"><span class="id" title="notation">[|</span></a> <a class="idref" href="ConCert.Notations.html#f4eb5f13d76cce9fed64c88b91e9117c"><span class="id" title="notation">\\</span></a><a class="idref" href="ConCert.examples.FinMap.html#A"><span class="id" title="definition">A</span></a> <a class="idref" href="ConCert.Notations.html#f4eb5f13d76cce9fed64c88b91e9117c"><span class="id" title="notation">=&gt;</span></a> <a class="idref" href="ConCert.Notations.html#f4eb5f13d76cce9fed64c88b91e9117c"><span class="id" title="notation">\\</span></a><a class="idref" href="ConCert.examples.FinMap.html#B"><span class="id" title="definition">B</span></a> <a class="idref" href="ConCert.Notations.html#f4eb5f13d76cce9fed64c88b91e9117c"><span class="id" title="notation">=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Notations.html#5a67c20fae665de9355aa131b6b33c35"><span class="id" title="notation">\</span></a><a class="idref" href="ConCert.examples.FinMap.html#f"><span class="id" title="definition">f</span></a> <a class="idref" href="ConCert.Notations.html#5a67c20fae665de9355aa131b6b33c35"><span class="id" title="notation">:</span></a> <a class="idref" href="ConCert.Notations.html#c4e9aac9c048c1b9b4d77595547cab8e"><span class="id" title="notation">'</span></a><a class="idref" href="ConCert.examples.FinMap.html#A"><span class="id" title="definition">A</span></a> <a class="idref" href="ConCert.Notations.html#26b5b7884c8556dc1a44ae242fcf1a6d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Notations.html#c4e9aac9c048c1b9b4d77595547cab8e"><span class="id" title="notation">'</span></a><a class="idref" href="ConCert.examples.FinMap.html#A"><span class="id" title="definition">A</span></a> <a class="idref" href="ConCert.Notations.html#26b5b7884c8556dc1a44ae242fcf1a6d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.pcuic.PCUICTranslate.html#BaseTypes.Bool"><span class="id" title="definition">Bool</span></a> <a class="idref" href="ConCert.Notations.html#5a67c20fae665de9355aa131b6b33c35"><span class="id" title="notation">=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Notations.html#5a67c20fae665de9355aa131b6b33c35"><span class="id" title="notation">\</span></a><a class="idref" href="ConCert.examples.FinMap.html#k"><span class="id" title="definition">k</span></a> <a class="idref" href="ConCert.Notations.html#5a67c20fae665de9355aa131b6b33c35"><span class="id" title="notation">:</span></a> <a class="idref" href="ConCert.Notations.html#c4e9aac9c048c1b9b4d77595547cab8e"><span class="id" title="notation">'</span></a><a class="idref" href="ConCert.examples.FinMap.html#A"><span class="id" title="definition">A</span></a> <a class="idref" href="ConCert.Notations.html#5a67c20fae665de9355aa131b6b33c35"><span class="id" title="notation">=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Notations.html#5a67c20fae665de9355aa131b6b33c35"><span class="id" title="notation">\</span></a><a class="idref" href="ConCert.examples.FinMap.html#v"><span class="id" title="definition">v</span></a> <a class="idref" href="ConCert.Notations.html#5a67c20fae665de9355aa131b6b33c35"><span class="id" title="notation">:</span></a> <a class="idref" href="ConCert.Notations.html#c4e9aac9c048c1b9b4d77595547cab8e"><span class="id" title="notation">'</span></a><a class="idref" href="ConCert.examples.FinMap.html#B"><span class="id" title="definition">B</span></a> <a class="idref" href="ConCert.Notations.html#5a67c20fae665de9355aa131b6b33c35"><span class="id" title="notation">=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Notations.html#21773080551e9fa9cdecbab6b667330e"><span class="id" title="notation">fix</span></a> <a class="idref" href="ConCert.examples.FinMap.html#add"><span class="id" title="definition">add</span></a> <a class="idref" href="ConCert.Notations.html#21773080551e9fa9cdecbab6b667330e"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.examples.FinMap.html#m"><span class="id" title="definition">m</span></a> <a class="idref" href="ConCert.Notations.html#21773080551e9fa9cdecbab6b667330e"><span class="id" title="notation">:</span></a> <a class="idref" href="ConCert.examples.FinMap.html#Map"><span class="id" title="definition">Map</span></a> <a class="idref" href="ConCert.Notations.html#c4e9aac9c048c1b9b4d77595547cab8e"><span class="id" title="notation">'</span></a><a class="idref" href="ConCert.examples.FinMap.html#A"><span class="id" title="definition">A</span></a> <a class="idref" href="ConCert.Notations.html#c4e9aac9c048c1b9b4d77595547cab8e"><span class="id" title="notation">'</span></a><a class="idref" href="ConCert.examples.FinMap.html#B"><span class="id" title="definition">B</span></a><a class="idref" href="ConCert.Notations.html#21773080551e9fa9cdecbab6b667330e"><span class="id" title="notation">)</span></a> <a class="idref" href="ConCert.Notations.html#21773080551e9fa9cdecbab6b667330e"><span class="id" title="notation">:</span></a> <a class="idref" href="ConCert.examples.FinMap.html#Map"><span class="id" title="definition">Map</span></a> <a class="idref" href="ConCert.Notations.html#c4e9aac9c048c1b9b4d77595547cab8e"><span class="id" title="notation">'</span></a><a class="idref" href="ConCert.examples.FinMap.html#A"><span class="id" title="definition">A</span></a> <a class="idref" href="ConCert.Notations.html#c4e9aac9c048c1b9b4d77595547cab8e"><span class="id" title="notation">'</span></a><a class="idref" href="ConCert.examples.FinMap.html#B"><span class="id" title="definition">B</span></a> <a class="idref" href="ConCert.Notations.html#21773080551e9fa9cdecbab6b667330e"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Notations.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">case</span></a> <a class="idref" href="ConCert.examples.FinMap.html#m"><span class="id" title="definition">m</span></a> <a class="idref" href="ConCert.Notations.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">:</span></a> <a class="idref" href="ConCert.examples.FinMap.html#Map"><span class="id" title="definition">Map</span></a> <a class="idref" href="ConCert.Notations.html#c4e9aac9c048c1b9b4d77595547cab8e"><span class="id" title="notation">'</span></a><a class="idref" href="ConCert.examples.FinMap.html#A"><span class="id" title="definition">A</span></a> <a class="idref" href="ConCert.Notations.html#05b798c46e0f093a97bd1a41cb3d810e"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Notations.html#c4e9aac9c048c1b9b4d77595547cab8e"><span class="id" title="notation">'</span></a><a class="idref" href="ConCert.examples.FinMap.html#B"><span class="id" title="definition">B</span></a> <a class="idref" href="ConCert.Notations.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">return</span></a> <a class="idref" href="ConCert.examples.FinMap.html#Map"><span class="id" title="definition">Map</span></a> <a class="idref" href="ConCert.Notations.html#c4e9aac9c048c1b9b4d77595547cab8e"><span class="id" title="notation">'</span></a><a class="idref" href="ConCert.examples.FinMap.html#A"><span class="id" title="definition">A</span></a> <a class="idref" href="ConCert.Notations.html#c4e9aac9c048c1b9b4d77595547cab8e"><span class="id" title="notation">'</span></a><a class="idref" href="ConCert.examples.FinMap.html#B"><span class="id" title="definition">B</span></a> <a class="idref" href="ConCert.Notations.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">of</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Notations.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">|</span></a> <a class="idref" href="ConCert.examples.FinMap.html#4a177de3911eb3d319f17bba0856a2ce"><span class="id" title="notation">MNil</span></a> <a class="idref" href="ConCert.Notations.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.examples.FinMap.html#d76068bd3762d2d25137633dc97e5c80"><span class="id" title="notation">MCons</span></a> <a class="idref" href="ConCert.examples.FinMap.html#76434d6efa71275326aab1bd90542cb5"><span class="id" title="notation">'</span></a><a class="idref" href="ConCert.examples.FinMap.html#A"><span class="id" title="definition">A</span></a> <a class="idref" href="ConCert.examples.FinMap.html#76434d6efa71275326aab1bd90542cb5"><span class="id" title="notation">'</span></a><a class="idref" href="ConCert.examples.FinMap.html#B"><span class="id" title="definition">B</span></a> <a class="idref" href="ConCert.examples.FinMap.html#k"><span class="id" title="definition">k</span></a> <a class="idref" href="ConCert.examples.FinMap.html#v"><span class="id" title="definition">v</span></a> <a class="idref" href="ConCert.Notations.html#d8c7a17158b575954bc29fcd16b46d59"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.examples.FinMap.html#7e5869b07b997dd3ee1aae5d19a51bc8"><span class="id" title="notation">MNil</span></a> <a class="idref" href="ConCert.examples.FinMap.html#76434d6efa71275326aab1bd90542cb5"><span class="id" title="notation">'</span></a><a class="idref" href="ConCert.examples.FinMap.html#A"><span class="id" title="definition">A</span></a> <a class="idref" href="ConCert.examples.FinMap.html#76434d6efa71275326aab1bd90542cb5"><span class="id" title="notation">'</span></a><a class="idref" href="ConCert.examples.FinMap.html#B"><span class="id" title="definition">B</span></a><a class="idref" href="ConCert.Notations.html#d8c7a17158b575954bc29fcd16b46d59"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Notations.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">|</span></a> <a class="idref" href="ConCert.examples.FinMap.html#7a525c33d870360dad2762b0eb37a26b"><span class="id" title="notation">MCons</span></a> <a class="idref" href="ConCert.examples.FinMap.html#x"><span class="id" title="definition">x</span></a> <a class="idref" href="ConCert.examples.FinMap.html#y"><span class="id" title="definition">y</span></a> <a class="idref" href="ConCert.examples.FinMap.html#z"><span class="id" title="definition">z</span></a> <a class="idref" href="ConCert.Notations.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.examples.FinMap.html#534e21ca945b9e51b00ca32e14d4a9d7"><span class="id" title="notation">if</span></a> <a class="idref" href="ConCert.Notations.html#d8c7a17158b575954bc29fcd16b46d59"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.examples.FinMap.html#f"><span class="id" title="definition">f</span></a> <a class="idref" href="ConCert.examples.FinMap.html#k"><span class="id" title="definition">k</span></a> <a class="idref" href="ConCert.examples.FinMap.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="ConCert.Notations.html#d8c7a17158b575954bc29fcd16b46d59"><span class="id" title="notation">)</span></a> <a class="idref" href="ConCert.examples.FinMap.html#534e21ca945b9e51b00ca32e14d4a9d7"><span class="id" title="notation">then</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.examples.FinMap.html#d76068bd3762d2d25137633dc97e5c80"><span class="id" title="notation">MCons</span></a> <a class="idref" href="ConCert.examples.FinMap.html#76434d6efa71275326aab1bd90542cb5"><span class="id" title="notation">'</span></a><a class="idref" href="ConCert.examples.FinMap.html#A"><span class="id" title="definition">A</span></a> <a class="idref" href="ConCert.examples.FinMap.html#76434d6efa71275326aab1bd90542cb5"><span class="id" title="notation">'</span></a><a class="idref" href="ConCert.examples.FinMap.html#B"><span class="id" title="definition">B</span></a> <a class="idref" href="ConCert.examples.FinMap.html#k"><span class="id" title="definition">k</span></a> <a class="idref" href="ConCert.examples.FinMap.html#v"><span class="id" title="definition">v</span></a> <a class="idref" href="ConCert.examples.FinMap.html#z"><span class="id" title="definition">z</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.examples.FinMap.html#534e21ca945b9e51b00ca32e14d4a9d7"><span class="id" title="notation">else</span></a> <a class="idref" href="ConCert.examples.FinMap.html#d76068bd3762d2d25137633dc97e5c80"><span class="id" title="notation">MCons</span></a> <a class="idref" href="ConCert.examples.FinMap.html#76434d6efa71275326aab1bd90542cb5"><span class="id" title="notation">'</span></a><a class="idref" href="ConCert.examples.FinMap.html#A"><span class="id" title="definition">A</span></a> <a class="idref" href="ConCert.examples.FinMap.html#76434d6efa71275326aab1bd90542cb5"><span class="id" title="notation">'</span></a><a class="idref" href="ConCert.examples.FinMap.html#B"><span class="id" title="definition">B</span></a> <a class="idref" href="ConCert.examples.FinMap.html#x"><span class="id" title="definition">x</span></a> <a class="idref" href="ConCert.examples.FinMap.html#y"><span class="id" title="definition">y</span></a> <a class="idref" href="ConCert.Notations.html#d8c7a17158b575954bc29fcd16b46d59"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.examples.FinMap.html#add"><span class="id" title="definition">add</span></a> <a class="idref" href="ConCert.examples.FinMap.html#z"><span class="id" title="definition">z</span></a><a class="idref" href="ConCert.Notations.html#d8c7a17158b575954bc29fcd16b46d59"><span class="id" title="notation">)</span></a> <a class="idref" href="ConCert.examples.FinMap.html#534e21ca945b9e51b00ca32e14d4a9d7"><span class="id" title="notation">:</span></a> <a class="idref" href="ConCert.examples.FinMap.html#Map"><span class="id" title="definition">Map</span></a> <a class="idref" href="ConCert.Notations.html#c4e9aac9c048c1b9b4d77595547cab8e"><span class="id" title="notation">'</span></a><a class="idref" href="ConCert.examples.FinMap.html#A"><span class="id" title="definition">A</span></a> <a class="idref" href="ConCert.Notations.html#c4e9aac9c048c1b9b4d77595547cab8e"><span class="id" title="notation">'</span></a><a class="idref" href="ConCert.examples.FinMap.html#B"><span class="id" title="definition">B</span></a> <a class="idref" href="ConCert.Notations.html#143c2b826a30d37e0d680ea16616e805"><span class="id" title="notation">|]</span></a>.<br/>

<br/>
<span class="id" title="keyword">Compute</span> (<a class="idref" href="ConCert.pcuic.PCUICTranslate.html#expr_to_term"><span class="id" title="definition">expr_to_term</span></a> <a class="idref" href="ConCert.examples.FinMap.html#52b145392dfbad12f334141f4035e258"><span class="id" title="definition">Σ'</span></a> (<a class="idref" href="ConCert.Ast.html#indexify"><span class="id" title="definition">indexify</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="ConCert.examples.FinMap.html#add_map_syn"><span class="id" title="definition">add_map_syn</span></a>)).<br/>

<br/>
<span class="id" title="var">Make</span> <span class="id" title="keyword">Definition</span> <span class="id" title="var">add_map</span> := (<a class="idref" href="ConCert.examples.FinMap.html#expr_to_tc"><span class="id" title="definition">expr_to_tc</span></a> <a class="idref" href="ConCert.examples.FinMap.html#52b145392dfbad12f334141f4035e258"><span class="id" title="definition">Σ'</span></a> (<a class="idref" href="ConCert.Ast.html#indexify"><span class="id" title="definition">indexify</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="ConCert.examples.FinMap.html#add_map_syn"><span class="id" title="definition">add_map_syn</span></a>)).<br/>

<br/>
</div>

<div class="doc">
<a name="lab48"></a><h2 class="section">Correctness</h2>

<div class="paragraph"> </div>

 We can prove correctness of "library" definitions like finite maps by comparing the to Coq's standard library definitions 
<div class="paragraph"> </div>

 Since Coq's <span class="inlinecode"><a class="idref" href="SmartContracts.Containers.html#FMap"><span class="id" title="module">FMap</span></a></span> is a module, we fix the type of keys to be <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Module</span> <a name="NatMap"><span class="id" title="module">NatMap</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.FSets.FMapWeakList.html#Make"><span class="id" title="module">FMapWeakList.Make</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Structures.OrderedTypeEx.html#Nat_as_OT"><span class="id" title="module">Nat_as_OT</span></a>.<br/>

<br/>
</div>

<div class="doc">
Conversion function from our type of finite maps to the one in the standard library 
</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a name="from_amap"><span class="id" title="definition">from_amap</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="ConCert.examples.FinMap.html#MapAcorn"><span class="id" title="inductive">MapAcorn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="ConCert.examples.FinMap.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="ConCert.examples.FinMap.html#t"><span class="id" title="definition">NatMap.Raw.t</span></a> <a class="idref" href="ConCert.examples.FinMap.html#A"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.examples.FinMap.html#m"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.examples.FinMap.html#MNilAcorn"><span class="id" title="constructor">MNilAcorn</span></a>  =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.examples.FinMap.html#MConsAcorn"><span class="id" title="constructor">MConsAcorn</span></a> <span class="id" title="var">k</span> <span class="id" title="var">v</span> <span class="id" title="var">m'</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">k</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="ConCert.examples.FinMap.html#from_amap"><span class="id" title="definition">from_amap</span></a> <span class="id" title="var">m'</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">PeanoNat.Nat</span>.<br/>

<br/>
</div>

<div class="doc">
Showing that <span class="inlinecode"><a class="idref" href="SmartContracts.Containers.html#FMap.add"><span class="id" title="abbreviation">add</span></a></span> function on Acorn finite maps are behaves the same way as one of the Coq's Stdlib implementations (up to converting the results) 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="add_map_eq_stdlib"><span class="id" title="lemma">add_map_eq_stdlib</span></a> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Set</span>} <span class="id" title="var">k</span> <span class="id" title="var">v</span> <span class="id" title="var">m</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.examples.FinMap.html#add"><span class="id" title="definition">NatMap.Raw.add</span></a> <a class="idref" href="ConCert.examples.FinMap.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="ConCert.examples.FinMap.html#v"><span class="id" title="variable">v</span></a> (<a class="idref" href="ConCert.examples.FinMap.html#from_amap"><span class="id" title="definition">from_amap</span></a> <a class="idref" href="ConCert.examples.FinMap.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.examples.FinMap.html#from_amap"><span class="id" title="definition">from_amap</span></a> (<a class="idref" href="ConCert.examples.FinMap.html#add_map"><span class="id" title="definition">add_map</span></a> <span class="id" title="var">_</span> <a class="idref" href="ConCert.examples.FinMap.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Arith.PeanoNat.html#Nat.eqb"><span class="id" title="definition">PeanoNat.Nat.eqb</span></a> <a class="idref" href="ConCert.examples.FinMap.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="ConCert.examples.FinMap.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="ConCert.examples.FinMap.html#m"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Structures.OrderedTypeEx.html#Nat_as_OT.eq_dec"><span class="id" title="axiom">Nat_as_OT.eq_dec</span></a> <span class="id" title="var">k</span> <span class="id" title="var">a0</span>). <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Arith.PeanoNat.html#Nat.eqb_refl"><span class="id" title="lemma">eqb_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Arith.PeanoNat.html#Nat.eqb_neq"><span class="id" title="lemma">eqb_neq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">n0</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">n0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">f_equal</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab49"></a><h1 class="section">Computing with the interpreter</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a name="MapEval"><span class="id" title="section">MapEval</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="tyNat"><span class="id" title="definition">tyNat</span></a> := <a class="idref" href="ConCert.Ast.html#eTy"><span class="id" title="constructor">eTy</span></a> (<a class="idref" href="ConCert.Ast.html#tyInd"><span class="id" title="constructor">tyInd</span></a> <a class="idref" href="ConCert.pcuic.PCUICTranslate.html#BaseTypes.Nat"><span class="id" title="definition">Nat</span></a>).<br/>

<br/>
</div>

<div class="doc">
Boolean equality of two natural numbers in Acorn 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="eqb_syn"><span class="id" title="definition">eqb_syn</span></a> : <a class="idref" href="ConCert.Ast.html#expr"><span class="id" title="inductive">expr</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Notations.html#143c2b826a30d37e0d680ea16616e805"><span class="id" title="notation">[|</span></a> <a class="idref" href="ConCert.Notations.html#d8c7a17158b575954bc29fcd16b46d59"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Notations.html#21773080551e9fa9cdecbab6b667330e"><span class="id" title="notation">fix</span></a> "eqb" <a class="idref" href="ConCert.Notations.html#21773080551e9fa9cdecbab6b667330e"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.examples.FinMap.html#n"><span class="id" title="definition">n</span></a> <a class="idref" href="ConCert.Notations.html#21773080551e9fa9cdecbab6b667330e"><span class="id" title="notation">:</span></a> <a class="idref" href="ConCert.pcuic.PCUICTranslate.html#BaseTypes.Nat"><span class="id" title="definition">Nat</span></a><a class="idref" href="ConCert.Notations.html#21773080551e9fa9cdecbab6b667330e"><span class="id" title="notation">)</span></a> <a class="idref" href="ConCert.Notations.html#21773080551e9fa9cdecbab6b667330e"><span class="id" title="notation">:</span></a> <a class="idref" href="ConCert.pcuic.PCUICTranslate.html#BaseTypes.Nat"><span class="id" title="definition">Nat</span></a> <a class="idref" href="ConCert.Notations.html#26b5b7884c8556dc1a44ae242fcf1a6d"><span class="id" title="notation">-&gt;</span></a>  <a class="idref" href="ConCert.pcuic.PCUICTranslate.html#BaseTypes.Bool"><span class="id" title="definition">Bool</span></a> <a class="idref" href="ConCert.Notations.html#21773080551e9fa9cdecbab6b667330e"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Notations.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">case</span></a> <a class="idref" href="ConCert.examples.FinMap.html#n"><span class="id" title="definition">n</span></a> <a class="idref" href="ConCert.Notations.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">:</span></a> <a class="idref" href="ConCert.pcuic.PCUICTranslate.html#BaseTypes.Nat"><span class="id" title="definition">Nat</span></a> <a class="idref" href="ConCert.Notations.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">return</span></a> <a class="idref" href="ConCert.pcuic.PCUICTranslate.html#BaseTypes.Nat"><span class="id" title="definition">Nat</span></a> <a class="idref" href="ConCert.Notations.html#26b5b7884c8556dc1a44ae242fcf1a6d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.pcuic.PCUICTranslate.html#BaseTypes.Bool"><span class="id" title="definition">Bool</span></a> <a class="idref" href="ConCert.Notations.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">of</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Notations.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">|</span></a> <a class="idref" href="ConCert.pcuic.PCUICTranslate.html#3b5ed276f6025e11306d3862dce0833a"><span class="id" title="notation">Zero</span></a> <a class="idref" href="ConCert.Notations.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Notations.html#5a67c20fae665de9355aa131b6b33c35"><span class="id" title="notation">\</span></a><a class="idref" href="ConCert.examples.FinMap.html#m"><span class="id" title="definition">m</span></a> <a class="idref" href="ConCert.Notations.html#5a67c20fae665de9355aa131b6b33c35"><span class="id" title="notation">:</span></a> <a class="idref" href="ConCert.pcuic.PCUICTranslate.html#BaseTypes.Nat"><span class="id" title="definition">Nat</span></a> <a class="idref" href="ConCert.Notations.html#5a67c20fae665de9355aa131b6b33c35"><span class="id" title="notation">=&gt;</span></a> <a class="idref" href="ConCert.Notations.html#d8c7a17158b575954bc29fcd16b46d59"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Notations.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">case</span></a> <a class="idref" href="ConCert.examples.FinMap.html#m"><span class="id" title="definition">m</span></a> <a class="idref" href="ConCert.Notations.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">:</span></a> <a class="idref" href="ConCert.pcuic.PCUICTranslate.html#BaseTypes.Nat"><span class="id" title="definition">Nat</span></a> <a class="idref" href="ConCert.Notations.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">return</span></a> <a class="idref" href="ConCert.pcuic.PCUICTranslate.html#BaseTypes.Bool"><span class="id" title="definition">Bool</span></a> <a class="idref" href="ConCert.Notations.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">of</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Notations.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">|</span></a> <a class="idref" href="ConCert.pcuic.PCUICTranslate.html#3b5ed276f6025e11306d3862dce0833a"><span class="id" title="notation">Zero</span></a> <a class="idref" href="ConCert.Notations.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.pcuic.PCUICTranslate.html#47ea54cc13a9c1373d89098dfa649131"><span class="id" title="notation">True</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Notations.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">|</span></a> <a class="idref" href="ConCert.pcuic.PCUICTranslate.html#d741a88234fc741f346ac1037e33cf97"><span class="id" title="notation">Suc</span></a> <a class="idref" href="ConCert.examples.FinMap.html#z"><span class="id" title="definition">z</span></a> <a class="idref" href="ConCert.Notations.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.pcuic.PCUICTranslate.html#12321e8fcc034c18199a25989e13d3f5"><span class="id" title="notation">False</span></a><a class="idref" href="ConCert.Notations.html#d8c7a17158b575954bc29fcd16b46d59"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Notations.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">|</span></a> <a class="idref" href="ConCert.pcuic.PCUICTranslate.html#d741a88234fc741f346ac1037e33cf97"><span class="id" title="notation">Suc</span></a> <a class="idref" href="ConCert.examples.FinMap.html#a"><span class="id" title="definition">a</span></a> <a class="idref" href="ConCert.Notations.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Notations.html#5a67c20fae665de9355aa131b6b33c35"><span class="id" title="notation">\</span></a><a class="idref" href="ConCert.examples.FinMap.html#m"><span class="id" title="definition">m</span></a> <a class="idref" href="ConCert.Notations.html#5a67c20fae665de9355aa131b6b33c35"><span class="id" title="notation">:</span></a> <a class="idref" href="ConCert.pcuic.PCUICTranslate.html#BaseTypes.Nat"><span class="id" title="definition">Nat</span></a> <a class="idref" href="ConCert.Notations.html#5a67c20fae665de9355aa131b6b33c35"><span class="id" title="notation">=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Notations.html#d8c7a17158b575954bc29fcd16b46d59"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Notations.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">case</span></a> <a class="idref" href="ConCert.examples.FinMap.html#m"><span class="id" title="definition">m</span></a> <a class="idref" href="ConCert.Notations.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">:</span></a> <a class="idref" href="ConCert.pcuic.PCUICTranslate.html#BaseTypes.Nat"><span class="id" title="definition">Nat</span></a> <a class="idref" href="ConCert.Notations.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">return</span></a> <a class="idref" href="ConCert.pcuic.PCUICTranslate.html#BaseTypes.Bool"><span class="id" title="definition">Bool</span></a> <a class="idref" href="ConCert.Notations.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">of</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Notations.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">|</span></a> <a class="idref" href="ConCert.pcuic.PCUICTranslate.html#3b5ed276f6025e11306d3862dce0833a"><span class="id" title="notation">Zero</span></a> <a class="idref" href="ConCert.Notations.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.pcuic.PCUICTranslate.html#12321e8fcc034c18199a25989e13d3f5"><span class="id" title="notation">False</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Notations.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">|</span></a> <a class="idref" href="ConCert.pcuic.PCUICTranslate.html#d741a88234fc741f346ac1037e33cf97"><span class="id" title="notation">Suc</span></a> <a class="idref" href="ConCert.examples.FinMap.html#b"><span class="id" title="definition">b</span></a> <a class="idref" href="ConCert.Notations.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">-&gt;</span></a> "eqb" <a class="idref" href="ConCert.examples.FinMap.html#a"><span class="id" title="definition">a</span></a> <a class="idref" href="ConCert.examples.FinMap.html#b"><span class="id" title="definition">b</span></a><a class="idref" href="ConCert.Notations.html#d8c7a17158b575954bc29fcd16b46d59"><span class="id" title="notation">))</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Notations.html#143c2b826a30d37e0d680ea16616e805"><span class="id" title="notation">|]</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">Make</span> <span class="id" title="keyword">Definition</span> <span class="id" title="var">nat_eqb</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.examples.FinMap.html#expr_to_tc"><span class="id" title="definition">expr_to_tc</span></a> <a class="idref" href="ConCert.examples.FinMap.html#52b145392dfbad12f334141f4035e258"><span class="id" title="definition">Σ'</span></a> (<a class="idref" href="ConCert.Ast.html#indexify"><span class="id" title="definition">indexify</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="ConCert.examples.FinMap.html#eqb_syn"><span class="id" title="definition">eqb_syn</span></a>)).<br/>

<br/>
</div>

<div class="doc">
Showing that Acorn boolean equality is in fact the same as <span class="inlinecode"><span class="id" title="var">Nat.eqb</span></span> 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="nat_eqb_correct"><span class="id" title="lemma">nat_eqb_correct</span></a> <span class="id" title="var">n</span> <span class="id" title="var">m</span> : <a class="idref" href="ConCert.examples.FinMap.html#nat_eqb"><span class="id" title="definition">nat_eqb</span></a> <a class="idref" href="ConCert.examples.FinMap.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.examples.FinMap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Arith.PeanoNat.html#Nat.eqb"><span class="id" title="definition">Nat.eqb</span></a> <a class="idref" href="ConCert.examples.FinMap.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="ConCert.examples.FinMap.html#m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The syntactic representation of the following map <span class="inlinecode">1</span> <span class="inlinecode">~&gt;</span> <span class="inlinecode">1;</span> <span class="inlinecode">0</span> <span class="inlinecode">~&gt;</span> <span class="inlinecode">0</span> 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="aMap"><span class="id" title="definition">aMap</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Notations.html#143c2b826a30d37e0d680ea16616e805"><span class="id" title="notation">[|</span></a> <a class="idref" href="ConCert.examples.FinMap.html#d76068bd3762d2d25137633dc97e5c80"><span class="id" title="notation">MCons</span></a> <a class="idref" href="ConCert.Notations.html#9bb18901484762033c8f1fa6120fb5d4"><span class="id" title="notation">{</span></a><a class="idref" href="ConCert.examples.FinMap.html#tyNat"><span class="id" title="definition">tyNat</span></a><a class="idref" href="ConCert.Notations.html#9bb18901484762033c8f1fa6120fb5d4"><span class="id" title="notation">}</span></a> <a class="idref" href="ConCert.Notations.html#9bb18901484762033c8f1fa6120fb5d4"><span class="id" title="notation">{</span></a><a class="idref" href="ConCert.examples.FinMap.html#tyNat"><span class="id" title="definition">tyNat</span></a><a class="idref" href="ConCert.Notations.html#9bb18901484762033c8f1fa6120fb5d4"><span class="id" title="notation">}</span></a> <a class="idref" href="ConCert.pcuic.PCUICTranslate.html#4868472298410a14b838731e5ed8a54f"><span class="id" title="notation">1</span></a> <a class="idref" href="ConCert.pcuic.PCUICTranslate.html#4868472298410a14b838731e5ed8a54f"><span class="id" title="notation">1</span></a> <a class="idref" href="ConCert.Notations.html#d8c7a17158b575954bc29fcd16b46d59"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.examples.FinMap.html#d76068bd3762d2d25137633dc97e5c80"><span class="id" title="notation">MCons</span></a> <a class="idref" href="ConCert.Notations.html#9bb18901484762033c8f1fa6120fb5d4"><span class="id" title="notation">{</span></a><a class="idref" href="ConCert.examples.FinMap.html#tyNat"><span class="id" title="definition">tyNat</span></a><a class="idref" href="ConCert.Notations.html#9bb18901484762033c8f1fa6120fb5d4"><span class="id" title="notation">}</span></a> <a class="idref" href="ConCert.Notations.html#9bb18901484762033c8f1fa6120fb5d4"><span class="id" title="notation">{</span></a><a class="idref" href="ConCert.examples.FinMap.html#tyNat"><span class="id" title="definition">tyNat</span></a><a class="idref" href="ConCert.Notations.html#9bb18901484762033c8f1fa6120fb5d4"><span class="id" title="notation">}</span></a> <a class="idref" href="ConCert.pcuic.PCUICTranslate.html#5046f6c0f247f0f8385647f5ff8d60b0"><span class="id" title="notation">0</span></a> <a class="idref" href="ConCert.pcuic.PCUICTranslate.html#5046f6c0f247f0f8385647f5ff8d60b0"><span class="id" title="notation">0</span></a> <a class="idref" href="ConCert.Notations.html#d8c7a17158b575954bc29fcd16b46d59"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.examples.FinMap.html#7e5869b07b997dd3ee1aae5d19a51bc8"><span class="id" title="notation">MNil</span></a> <a class="idref" href="ConCert.Notations.html#9bb18901484762033c8f1fa6120fb5d4"><span class="id" title="notation">{</span></a><a class="idref" href="ConCert.examples.FinMap.html#tyNat"><span class="id" title="definition">tyNat</span></a><a class="idref" href="ConCert.Notations.html#9bb18901484762033c8f1fa6120fb5d4"><span class="id" title="notation">}</span></a> <a class="idref" href="ConCert.Notations.html#9bb18901484762033c8f1fa6120fb5d4"><span class="id" title="notation">{</span></a><a class="idref" href="ConCert.examples.FinMap.html#tyNat"><span class="id" title="definition">tyNat</span></a><a class="idref" href="ConCert.Notations.html#9bb18901484762033c8f1fa6120fb5d4"><span class="id" title="notation">}</span></a><a class="idref" href="ConCert.Notations.html#d8c7a17158b575954bc29fcd16b46d59"><span class="id" title="notation">))</span></a> <a class="idref" href="ConCert.Notations.html#143c2b826a30d37e0d680ea16616e805"><span class="id" title="notation">|]</span></a>.<br/>

<br/>
</div>

<div class="doc">
Computing boolean equality with the interpreter 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Example</span> <a name="compute_eqb_true"><span class="id" title="definition">compute_eqb_true</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.EvalE.html#expr_eval_i"><span class="id" title="definition">expr_eval_i</span></a> <a class="idref" href="ConCert.examples.FinMap.html#52b145392dfbad12f334141f4035e258"><span class="id" title="definition">Σ'</span></a> 10 <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<a class="idref" href="ConCert.Ast.html#indexify"><span class="id" title="definition">indexify</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="ConCert.Notations.html#143c2b826a30d37e0d680ea16616e805"><span class="id" title="notation">[|</span></a><a class="idref" href="ConCert.Notations.html#9bb18901484762033c8f1fa6120fb5d4"><span class="id" title="notation">{</span></a><a class="idref" href="ConCert.examples.FinMap.html#eqb_syn"><span class="id" title="definition">eqb_syn</span></a><a class="idref" href="ConCert.Notations.html#9bb18901484762033c8f1fa6120fb5d4"><span class="id" title="notation">}</span></a> <a class="idref" href="ConCert.pcuic.PCUICTranslate.html#4868472298410a14b838731e5ed8a54f"><span class="id" title="notation">1</span></a> <a class="idref" href="ConCert.pcuic.PCUICTranslate.html#4868472298410a14b838731e5ed8a54f"><span class="id" title="notation">1</span></a> <a class="idref" href="ConCert.Notations.html#143c2b826a30d37e0d680ea16616e805"><span class="id" title="notation">|]</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> (<a class="idref" href="ConCert.EvalE.html#vConstr"><span class="id" title="constructor">vConstr</span></a> <a class="idref" href="ConCert.pcuic.PCUICTranslate.html#BaseTypes.Bool"><span class="id" title="definition">Bool</span></a> <a class="idref" href="ConCert.pcuic.PCUICTranslate.html#StdLib.true_name"><span class="id" title="definition">true_name</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Example</span> <a name="compute_eqb_false"><span class="id" title="definition">compute_eqb_false</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.EvalE.html#expr_eval_i"><span class="id" title="definition">expr_eval_i</span></a> <a class="idref" href="ConCert.examples.FinMap.html#52b145392dfbad12f334141f4035e258"><span class="id" title="definition">Σ'</span></a> 10 <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<a class="idref" href="ConCert.Ast.html#indexify"><span class="id" title="definition">indexify</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="ConCert.Notations.html#143c2b826a30d37e0d680ea16616e805"><span class="id" title="notation">[|</span></a><a class="idref" href="ConCert.Notations.html#9bb18901484762033c8f1fa6120fb5d4"><span class="id" title="notation">{</span></a><a class="idref" href="ConCert.examples.FinMap.html#eqb_syn"><span class="id" title="definition">eqb_syn</span></a><a class="idref" href="ConCert.Notations.html#9bb18901484762033c8f1fa6120fb5d4"><span class="id" title="notation">}</span></a> <a class="idref" href="ConCert.pcuic.PCUICTranslate.html#4868472298410a14b838731e5ed8a54f"><span class="id" title="notation">1</span></a> <a class="idref" href="ConCert.pcuic.PCUICTranslate.html#5046f6c0f247f0f8385647f5ff8d60b0"><span class="id" title="notation">0</span></a> <a class="idref" href="ConCert.Notations.html#143c2b826a30d37e0d680ea16616e805"><span class="id" title="notation">|]</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> (<a class="idref" href="ConCert.EvalE.html#vConstr"><span class="id" title="constructor">vConstr</span></a> <a class="idref" href="ConCert.pcuic.PCUICTranslate.html#BaseTypes.Bool"><span class="id" title="definition">Bool</span></a> <a class="idref" href="ConCert.pcuic.PCUICTranslate.html#StdLib.false_name"><span class="id" title="definition">false_name</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Computing lookup with using the interpreter for the named representation of variables 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Example</span> <a name="compute_lookup_named"><span class="id" title="definition">compute_lookup_named</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.EvalE.html#expr_eval_n"><span class="id" title="definition">expr_eval_n</span></a> <a class="idref" href="ConCert.examples.FinMap.html#52b145392dfbad12f334141f4035e258"><span class="id" title="definition">Σ'</span></a> 10 <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Notations.html#143c2b826a30d37e0d680ea16616e805"><span class="id" title="notation">[|</span></a> <a class="idref" href="ConCert.Notations.html#9bb18901484762033c8f1fa6120fb5d4"><span class="id" title="notation">{</span></a><a class="idref" href="ConCert.examples.FinMap.html#lookup_syn"><span class="id" title="definition">lookup_syn</span></a><a class="idref" href="ConCert.Notations.html#9bb18901484762033c8f1fa6120fb5d4"><span class="id" title="notation">}</span></a> <a class="idref" href="ConCert.Notations.html#9bb18901484762033c8f1fa6120fb5d4"><span class="id" title="notation">{</span></a><a class="idref" href="ConCert.examples.FinMap.html#tyNat"><span class="id" title="definition">tyNat</span></a><a class="idref" href="ConCert.Notations.html#9bb18901484762033c8f1fa6120fb5d4"><span class="id" title="notation">}</span></a> <a class="idref" href="ConCert.Notations.html#9bb18901484762033c8f1fa6120fb5d4"><span class="id" title="notation">{</span></a><a class="idref" href="ConCert.examples.FinMap.html#tyNat"><span class="id" title="definition">tyNat</span></a><a class="idref" href="ConCert.Notations.html#9bb18901484762033c8f1fa6120fb5d4"><span class="id" title="notation">}</span></a> <a class="idref" href="ConCert.Notations.html#9bb18901484762033c8f1fa6120fb5d4"><span class="id" title="notation">{</span></a><a class="idref" href="ConCert.examples.FinMap.html#eqb_syn"><span class="id" title="definition">eqb_syn</span></a><a class="idref" href="ConCert.Notations.html#9bb18901484762033c8f1fa6120fb5d4"><span class="id" title="notation">}</span></a> <a class="idref" href="ConCert.pcuic.PCUICTranslate.html#5046f6c0f247f0f8385647f5ff8d60b0"><span class="id" title="notation">0</span></a> <a class="idref" href="ConCert.Notations.html#9bb18901484762033c8f1fa6120fb5d4"><span class="id" title="notation">{</span></a><a class="idref" href="ConCert.examples.FinMap.html#aMap"><span class="id" title="definition">aMap</span></a><a class="idref" href="ConCert.Notations.html#9bb18901484762033c8f1fa6120fb5d4"><span class="id" title="notation">}</span></a> <a class="idref" href="ConCert.Notations.html#143c2b826a30d37e0d680ea16616e805"><span class="id" title="notation">|]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> (<a class="idref" href="ConCert.EvalE.html#vConstr"><span class="id" title="constructor">vConstr</span></a> <a class="idref" href="ConCert.examples.FinMap.html#Maybe"><span class="id" title="definition">Maybe</span></a> "JustAcorn" <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a><a class="idref" href="ConCert.EvalE.html#vTy"><span class="id" title="constructor">vTy</span></a> (<a class="idref" href="ConCert.Ast.html#tyInd"><span class="id" title="constructor">tyInd</span></a> <a class="idref" href="ConCert.pcuic.PCUICTranslate.html#BaseTypes.Nat"><span class="id" title="definition">Nat</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <a class="idref" href="ConCert.EvalE.html#vConstr"><span class="id" title="constructor">vConstr</span></a> <a class="idref" href="ConCert.pcuic.PCUICTranslate.html#BaseTypes.Nat"><span class="id" title="definition">Nat</span></a> "Z" <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">compute</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Computing lookup with using the interpreter for variables represented with De Bruijn indices 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Example</span> <a name="compute_lookup_debruijn"><span class="id" title="definition">compute_lookup_debruijn</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.EvalE.html#expr_eval_i"><span class="id" title="definition">expr_eval_i</span></a> <a class="idref" href="ConCert.examples.FinMap.html#52b145392dfbad12f334141f4035e258"><span class="id" title="definition">Σ'</span></a> 10 <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Ast.html#indexify"><span class="id" title="definition">indexify</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Notations.html#143c2b826a30d37e0d680ea16616e805"><span class="id" title="notation">[|</span></a> <a class="idref" href="ConCert.Notations.html#9bb18901484762033c8f1fa6120fb5d4"><span class="id" title="notation">{</span></a><a class="idref" href="ConCert.examples.FinMap.html#lookup_syn"><span class="id" title="definition">lookup_syn</span></a><a class="idref" href="ConCert.Notations.html#9bb18901484762033c8f1fa6120fb5d4"><span class="id" title="notation">}</span></a> <a class="idref" href="ConCert.Notations.html#9bb18901484762033c8f1fa6120fb5d4"><span class="id" title="notation">{</span></a><a class="idref" href="ConCert.examples.FinMap.html#tyNat"><span class="id" title="definition">tyNat</span></a><a class="idref" href="ConCert.Notations.html#9bb18901484762033c8f1fa6120fb5d4"><span class="id" title="notation">}</span></a> <a class="idref" href="ConCert.Notations.html#9bb18901484762033c8f1fa6120fb5d4"><span class="id" title="notation">{</span></a><a class="idref" href="ConCert.examples.FinMap.html#tyNat"><span class="id" title="definition">tyNat</span></a><a class="idref" href="ConCert.Notations.html#9bb18901484762033c8f1fa6120fb5d4"><span class="id" title="notation">}</span></a> <a class="idref" href="ConCert.Notations.html#9bb18901484762033c8f1fa6120fb5d4"><span class="id" title="notation">{</span></a><a class="idref" href="ConCert.examples.FinMap.html#eqb_syn"><span class="id" title="definition">eqb_syn</span></a><a class="idref" href="ConCert.Notations.html#9bb18901484762033c8f1fa6120fb5d4"><span class="id" title="notation">}</span></a> <a class="idref" href="ConCert.pcuic.PCUICTranslate.html#5046f6c0f247f0f8385647f5ff8d60b0"><span class="id" title="notation">0</span></a> <a class="idref" href="ConCert.Notations.html#9bb18901484762033c8f1fa6120fb5d4"><span class="id" title="notation">{</span></a><a class="idref" href="ConCert.examples.FinMap.html#aMap"><span class="id" title="definition">aMap</span></a><a class="idref" href="ConCert.Notations.html#9bb18901484762033c8f1fa6120fb5d4"><span class="id" title="notation">}</span></a> <a class="idref" href="ConCert.Notations.html#143c2b826a30d37e0d680ea16616e805"><span class="id" title="notation">|]</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> (<a class="idref" href="ConCert.EvalE.html#vConstr"><span class="id" title="constructor">vConstr</span></a> <a class="idref" href="ConCert.examples.FinMap.html#Maybe"><span class="id" title="definition">Maybe</span></a> "JustAcorn" <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a><a class="idref" href="ConCert.EvalE.html#vTy"><span class="id" title="constructor">vTy</span></a> (<a class="idref" href="ConCert.Ast.html#tyInd"><span class="id" title="constructor">tyInd</span></a> <a class="idref" href="ConCert.pcuic.PCUICTranslate.html#BaseTypes.Nat"><span class="id" title="definition">Nat</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <a class="idref" href="ConCert.EvalE.html#vConstr"><span class="id" title="constructor">vConstr</span></a> <a class="idref" href="ConCert.pcuic.PCUICTranslate.html#BaseTypes.Nat"><span class="id" title="definition">Nat</span></a> "Z" <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">compute</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="ConCert.examples.FinMap.html#MapEval"><span class="id" title="section">MapEval</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
